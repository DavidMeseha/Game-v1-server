import { getRandomInt } from "../misc.js";

export function getGameCoins() {
  const used = new Set();
  const values = [];
  while (values.length < 10 && used.size < coinPositionOption.length) {
    const idx = getRandomInt(coinPositionOption.length);
    if (!used.has(idx)) {
      used.add(idx);
      values.push(coinPositionOption[idx]);
    }
  }
  return values;
}

export function handlePickedCoin(pickedCoinPosition, coins) {
  const index = coins.findIndex(
    (c) =>
      c[0] === pickedCoinPosition[0] &&
      c[1] === pickedCoinPosition[1] &&
      c[2] === pickedCoinPosition[2]
  );
  if (index !== -1) {
    coins.splice(index, 1);

    // Find a new unique position
    let newPos;
    let tries = 0;
    do {
      newPos = coinPositionOption[getRandomInt(coinPositionOption.length)];
      tries++;
      // Prevent infinite loop if all positions are taken
      if (tries > coinPositionOption.length) break;
    } while (
      coins.some(
        (c) => c[0] === newPos[0] && c[1] === newPos[1] && c[2] === newPos[2]
      )
    );

    coins.push(newPos);
  }

  return coins;
}

export const coinPositionOption = [
  [-70, -2, -55],
  [-70, -2, -50],
  [-70, -2, -45],
  [-70, -2, -40],
  [-70, -2, -35],
  [-70, -2, -30],
  [-70, -2, -25],
  [-70, -2, -20],
  [-70, -2, -15],
  [-70, -2, -10],
  [-70, -2, -5],
  [-70, -2, 0],
  [-70, -2, 5],
  [-70, -2, 10],
  [-70, -2, 15],
  [-65, -2, -55],
  [-65, -2, -50],
  [-65, -2, -45],
  [-65, -2, -40],
  [-65, -2, -35],
  [-65, -2, -30],
  [-65, -2, -25],
  [-65, -2, -20],
  [-65, -2, -15],
  [-65, -2, -10],
  [-65, -2, -5],
  [-65, -2, 0],
  [-65, -2, 5],
  [-65, -2, 10],
  [-65, -2, 15],
  [-60, -2, -55],
  [-60, -2, -50],
  [-60, -2, -45],
  [-60, -2, -40],
  [-60, -2, -35],
  [-60, -2, -30],
  [-60, -2, -25],
  [-60, -2, -20],
  [-60, -2, -15],
  [-60, -2, -10],
  [-60, -2, -5],
  [-60, -2, 0],
  [-60, -2, 5],
  [-60, -2, 10],
  [-60, -2, 15],
  [-55, -2, -55],
  [-55, -2, -50],
  [-55, -2, -45],
  [-55, -2, -40],
  [-55, -2, 0],
  [-55, -2, 5],
  [-55, -2, 10],
  [-55, -2, 15],
  [-50, -2, -55],
  [-50, -2, -50],
  [-50, -2, -45],
  [-50, -2, -40],
  [-50, -2, 0],
  [-50, -2, 5],
  [-50, -2, 10],
  [-50, -2, 15],
  [-45, -2, -55],
  [-45, -2, -50],
  [-45, -2, -45],
  [-45, -2, -40],
  [-45, -2, 0],
  [-45, -2, 5],
  [-45, -2, 10],
  [-45, -2, 15],
  [-40, -2, -55],
  [-40, -2, -50],
  [-40, -2, -45],
  [-40, -2, -40],
  [-40, -2, 0],
  [-40, -2, 5],
  [-40, -2, 10],
  [-40, -2, 15],
  [-35, -2, -55],
  [-35, -2, -50],
  [-35, -2, -45],
  [-35, -2, -40],
  [-35, -2, 0],
  [-35, -2, 5],
  [-35, -2, 10],
  [-35, -2, 15],
  [-30, -2, -55],
  [-30, -2, -50],
  [-30, -2, -45],
  [-30, -2, -40],
  [-30, -2, 0],
  [-30, -2, 5],
  [-30, -2, 10],
  [-30, -2, 15],
  [-25, -2, -55],
  [-25, -2, -50],
  [-25, -2, -45],
  [-25, -2, -40],
  [-25, -2, 0],
  [-25, -2, 5],
  [-25, -2, 10],
  [-25, -2, 15],
  [-20, -2, -55],
  [-20, -2, -50],
  [-20, -2, -45],
  [-20, -2, -40],
  [-20, -2, -35],
  [-20, -2, -30],
  [-20, -2, -25],
  [-20, -2, -20],
  [-20, -2, -15],
  [-20, -2, -10],
  [-20, -2, -5],
  [-20, -2, 0],
  [-20, -2, 5],
  [-20, -2, 10],
  [-20, -2, 15],
  [-15, -2, -55],
  [-15, -2, -50],
  [-15, -2, -45],
  [-15, -2, -40],
  [-15, -2, -35],
  [-15, -2, -30],
  [-15, -2, -25],
  [-15, -2, -20],
  [-15, -2, -15],
  [-15, -2, 15],
  [-10, -2, -70],
  [-10, -2, -65],
  [-10, -2, -60],
  [-10, -2, -55],
  [-10, -2, -50],
  [-10, -2, -45],
  [-10, -2, -40],
  [-10, -2, -35],
  [-10, -2, -30],
  [-10, -2, -25],
  [-10, -2, -15],
  [-10, -2, 15],
  [-10, -2, 20],
  [-10, -2, 25],
  [-10, -2, 30],
  [-5, -2, -70],
  [-5, -2, -65],
  [-5, -2, -60],
  [-5, -2, -55],
  [-5, -2, -50],
  [-5, -2, -45],
  [-5, -2, -40],
  [-5, -2, -35],
  [-5, -2, -30],
  [-5, -2, 15],
  [-5, -2, 20],
  [-5, -2, 25],
  [-5, -2, 30],
  [0, -2, -70],
  [0, -2, -65],
  [0, -2, -60],
  [0, -2, -55],
  [0, -2, -50],
  [0, -2, -45],
  [0, -2, -40],
  [0, -2, -35],
  [0, -2, -30],
  [0, -2, -25],
  [0, -2, -15],
  [0, -2, 15],
  [0, -2, 20],
  [0, -2, 25],
  [0, -2, 30],
  [5, -2, -55],
  [5, -2, -50],
  [5, -2, -45],
  [5, -2, -40],
  [5, -2, -35],
  [5, -2, -30],
  [5, -2, -25],
  [5, -2, -20],
  [5, -2, -15],
  [5, -2, 15],
  [10, -2, -55],
  [10, -2, -50],
  [10, -2, -45],
  [10, -2, -40],
  [10, -2, 15],
  [15, -2, -55],
  [15, -2, -50],
  [15, -2, -45],
  [15, -2, -40],
  [15, -2, 0],
  [15, -2, 5],
  [15, -2, 10],
  [15, -2, 15],
  [20, -2, -55],
  [20, -2, -50],
  [20, -2, -45],
  [20, -2, -40],
  [20, -2, 0],
  [20, -2, 5],
  [20, -2, 10],
  [20, -2, 15],
  [25, -2, -55],
  [25, -2, -50],
  [25, -2, -45],
  [25, -2, -40],
  [25, -2, 0],
  [25, -2, 5],
  [25, -2, 10],
  [25, -2, 15],
  [30, -2, -55],
  [30, -2, -50],
  [30, -2, -45],
  [30, -2, -40],
  [30, -2, 0],
  [30, -2, 5],
  [30, -2, 10],
  [30, -2, 15],
  [35, -2, -55],
  [35, -2, -50],
  [35, -2, -45],
  [35, -2, -40],
  [35, -2, 0],
  [35, -2, 5],
  [35, -2, 10],
  [35, -2, 15],
  [40, -2, -55],
  [40, -2, -50],
  [40, -2, -45],
  [40, -2, -40],
  [40, -2, 0],
  [40, -2, 5],
  [40, -2, 10],
  [40, -2, 15],
  [45, -2, -55],
  [45, -2, -50],
  [45, -2, -45],
  [45, -2, -40],
  [45, -2, 0],
  [45, -2, 5],
  [45, -2, 10],
  [45, -2, 15],
  [50, -2, -55],
  [50, -2, -50],
  [50, -2, -45],
  [50, -2, -40],
  [50, -2, -35],
  [50, -2, -30],
  [50, -2, -25],
  [50, -2, -20],
  [50, -2, -15],
  [50, -2, -10],
  [50, -2, -5],
  [50, -2, 0],
  [50, -2, 5],
  [50, -2, 10],
  [50, -2, 15],
  [55, -2, -55],
  [55, -2, -50],
  [55, -2, -45],
  [55, -2, -40],
  [55, -2, -35],
  [55, -2, -30],
  [55, -2, -25],
  [55, -2, -20],
  [55, -2, -15],
  [55, -2, -10],
  [55, -2, -5],
  [55, -2, 0],
  [55, -2, 5],
  [55, -2, 10],
  [55, -2, 15],

  //Higher
  [-70, 8, -55],
  [-70, 8, -50],
  [-70, 8, -45],
  [-70, 8, -40],
  [-70, 8, -35],
  [-70, 8, -30],
  [-70, 8, -25],
  [-70, 8, -20],
  [-70, 8, -15],
  [-70, 8, -10],
  [-70, 8, -5],
  [-70, 8, 0],
  [-70, 8, 5],
  [-70, 8, 10],
  [-70, 8, 15],
  [-65, 8, -55],
  [-65, 8, -50],
  [-65, 8, -45],
  [-65, 8, -40],
  [-65, 8, -35],
  [-65, 8, -30],
  [-65, 8, -25],
  [-65, 8, -20],
  [-65, 8, -15],
  [-65, 8, -10],
  [-65, 8, -5],
  [-65, 8, 0],
  [-65, 8, 5],
  [-65, 8, 10],
  [-65, 8, 15],
  [-60, 8, -55],
  [-60, 8, -50],
  [-60, 8, -45],
  [-60, 8, -40],
  [-60, 8, -35],
  [-60, 8, -30],
  [-60, 8, -25],
  [-60, 8, -20],
  [-60, 8, -15],
  [-60, 8, -10],
  [-60, 8, -5],
  [-60, 8, 0],
  [-60, 8, 5],
  [-60, 8, 10],
  [-60, 8, 15],
  [-55, 8, -55],
  [-55, 8, -50],
  [-55, 8, -45],
  [-55, 8, -40],
  [-55, 8, 0],
  [-55, 8, 5],
  [-55, 8, 10],
  [-55, 8, 15],
  [-50, 8, -55],
  [-50, 8, -50],
  [-50, 8, -45],
  [-50, 8, -40],
  [-50, 8, 0],
  [-50, 8, 5],
  [-50, 8, 10],
  [-50, 8, 15],
  [-45, 8, -55],
  [-45, 8, -50],
  [-45, 8, -45],
  [-45, 8, -40],
  [-45, 8, 0],
  [-45, 8, 5],
  [-45, 8, 10],
  [-45, 8, 15],
  [-40, 8, -55],
  [-40, 8, -50],
  [-40, 8, -45],
  [-40, 8, -40],
  [-40, 8, 0],
  [-40, 8, 5],
  [-40, 8, 10],
  [-40, 8, 15],
  [-35, 8, -55],
  [-35, 8, -50],
  [-35, 8, -45],
  [-35, 8, -40],
  [-35, 8, 0],
  [-35, 8, 5],
  [-35, 8, 10],
  [-35, 8, 15],
  [-30, 8, -55],
  [-30, 8, -50],
  [-30, 8, -45],
  [-30, 8, -40],
  [-30, 8, 0],
  [-30, 8, 5],
  [-30, 8, 10],
  [-30, 8, 15],
  [-25, 8, -55],
  [-25, 8, -50],
  [-25, 8, -45],
  [-25, 8, -40],
  [-25, 8, 0],
  [-25, 8, 5],
  [-25, 8, 10],
  [-25, 8, 15],
  [-20, 8, -55],
  [-20, 8, -50],
  [-20, 8, -45],
  [-20, 8, -40],
  [-20, 8, -35],
  [-20, 8, -30],
  [-20, 8, -25],
  [-20, 8, -20],
  [-20, 8, -15],
  [-20, 8, -10],
  [-20, 8, -5],
  [-20, 8, 0],
  [-20, 8, 5],
  [-20, 8, 10],
  [-20, 8, 15],
  [-15, 8, -55],
  [-15, 8, -50],
  [-15, 8, -45],
  [-15, 8, -40],
  [-15, 8, -35],
  [-15, 8, -30],
  [-15, 8, -25],
  [-15, 8, -20],
  [-15, 8, -15],
  [-15, 8, 15],
  [-10, 8, -70],
  [-10, 8, -65],
  [-10, 8, -60],
  [-10, 8, -55],
  [-10, 8, -50],
  [-10, 8, -45],
  [-10, 8, -40],
  [-10, 8, -35],
  [-10, 8, -30],
  [-10, 8, -25],
  [-10, 8, -15],
  [-10, 8, 15],
  [-10, 8, 20],
  [-10, 8, 25],
  [-10, 8, 30],
  [-5, 8, -70],
  [-5, 8, -65],
  [-5, 8, -60],
  [-5, 8, -55],
  [-5, 8, -50],
  [-5, 8, -45],
  [-5, 8, -40],
  [-5, 8, -35],
  [-5, 8, -30],
  [-5, 8, 15],
  [-5, 8, 20],
  [-5, 8, 25],
  [-5, 8, 30],
  [0, 8, -70],
  [0, 8, -65],
  [0, 8, -60],
  [0, 8, -55],
  [0, 8, -50],
  [0, 8, -45],
  [0, 8, -40],
  [0, 8, -35],
  [0, 8, -30],
  [0, 8, -25],
  [0, 8, -15],
  [0, 8, 15],
  [0, 8, 20],
  [0, 8, 25],
  [0, 8, 30],
  [5, 8, -55],
  [5, 8, -50],
  [5, 8, -45],
  [5, 8, -40],
  [5, 8, -35],
  [5, 8, -30],
  [5, 8, -25],
  [5, 8, -20],
  [5, 8, -15],
  [5, 8, 15],
  [10, 8, -55],
  [10, 8, -50],
  [10, 8, -45],
  [10, 8, -40],
  [10, 8, 15],
  [15, 8, -55],
  [15, 8, -50],
  [15, 8, -45],
  [15, 8, -40],
  [15, 8, 0],
  [15, 8, 5],
  [15, 8, 10],
  [15, 8, 15],
  [20, 8, -55],
  [20, 8, -50],
  [20, 8, -45],
  [20, 8, -40],
  [20, 8, 0],
  [20, 8, 5],
  [20, 8, 10],
  [20, 8, 15],
  [25, 8, -55],
  [25, 8, -50],
  [25, 8, -45],
  [25, 8, -40],
  [25, 8, 0],
  [25, 8, 5],
  [25, 8, 10],
  [25, 8, 15],
  [30, 8, -55],
  [30, 8, -50],
  [30, 8, -45],
  [30, 8, -40],
  [30, 8, 0],
  [30, 8, 5],
  [30, 8, 10],
  [30, 8, 15],
  [35, 8, -55],
  [35, 8, -50],
  [35, 8, -45],
  [35, 8, -40],
  [35, 8, 0],
  [35, 8, 5],
  [35, 8, 10],
  [35, 8, 15],
  [40, 8, -55],
  [40, 8, -50],
  [40, 8, -45],
  [40, 8, -40],
  [40, 8, 0],
  [40, 8, 5],
  [40, 8, 10],
  [40, 8, 15],
  [45, 8, -55],
  [45, 8, -50],
  [45, 8, -45],
  [45, 8, -40],
  [45, 8, 0],
  [45, 8, 5],
  [45, 8, 10],
  [45, 8, 15],
  [50, 8, -55],
  [50, 8, -50],
  [50, 8, -45],
  [50, 8, -40],
  [50, 8, -35],
  [50, 8, -30],
  [50, 8, -25],
  [50, 8, -20],
  [50, 8, -15],
  [50, 8, -10],
  [50, 8, -5],
  [50, 8, 0],
  [50, 8, 5],
  [50, 8, 10],
  [50, 8, 15],
  [55, 8, -55],
  [55, 8, -50],
  [55, 8, -45],
  [55, 8, -40],
  [55, 8, -35],
  [55, 8, -30],
  [55, 8, -25],
  [55, 8, -20],
  [55, 8, -15],
  [55, 8, -10],
  [55, 8, -5],
  [55, 8, 0],
  [55, 8, 5],
  [55, 8, 10],
  [55, 8, 15],
];
